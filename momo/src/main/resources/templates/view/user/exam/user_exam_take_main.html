<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8" />
	<title>공무원 모의고사 응시 페이지</title>
	<script src="https://code.jquery.com/jquery-3.7.1.js"
		integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f8f8f8;
			margin: 0;
			padding: 20px;
		}

		.container {
			background-color: #ffffff;
			border: 1px solid #ddd;
			padding: 20px;
			max-width: 800px;
			margin: 0 auto;
		}

		.header {
			font-size: 20px;
			font-weight: bold;
			background-color: #f0ede8;
			padding: 10px;
			margin-bottom: 20px;
		}

		.info-row {
			display: flex;
			justify-content: space-between;
			margin-bottom: 10px;
		}

		.info-row span {
			color: #333;
		}

		.info-row .label {
			font-weight: bold;
		}

		.alert-box {
			background-color: #f8f8f8;
			padding: 10px;
			margin-top: 20px;
			border: 1px solid #ddd;
		}

		.alert-box .alert-icon {
			color: #1d4f9a;
			font-weight: bold;
		}

		.alert-text {
			color: #1d4f9a;
			margin-left: 5px;
		}

		.table {
			width: 100%;
			border-collapse: collapse;
			margin-top: 20px;
		}

		.table th,
		.table td {
			border: 1px solid #ddd;
			padding: 10px;
			text-align: center;
		}

		.table th {
			background-color: rgb(241, 241, 241);
			color: black;
		}

		.required-text {
			color: red;
			margin-top: 10px;
		}

		.button-section {
			text-align: center;
			margin-top: 20px;
		}

		.submit-btn {
			background-color: #3a80c6;
			color: white;
			border: none;
			padding: 10px 20px;
			font-size: 16px;
			cursor: pointer;
		}

		.warning-box {
			background-color: #f8f8f8;
			border: 1px solid #ddd;
			padding: 10px;
			margin-top: 20px;
		}

		.warning-box .warning-icon {
			color: #1d4f9a;
			font-weight: bold;
		}
	</style>
</head>

<body>
	<div class="container">
		<div class="header" th:text=${examInfo.examNm} style="text-align: center;">[공무원] 2023년 제1회 온라인 모의고사</div>
		<!-- 
    <div class="info-row">
        <span class="label">시험연도:</span>
        <span>2023</span>
        <span class="label">시행회차:</span>
        <span>1회</span>
    </div> -->

		<table class="table">
			<colgroup>
				<col width="120" />
				<col width="*" />
				<col width="120" />
				<col width="*" />
			</colgroup>
			<tbody>
				<tr>
					<th>응시자</th>
					<td>
						<span th:text="${'['+examInfo.userId+'] '+examInfo.userName}"></span></sapn>
					</td>
					<th>시험 날짜</th>
					<td th:text="${examInfo.examDate}">2024-06-08</td>
				</tr>
				<tr>
					<th>대상 학년</th>
					<td th:text="${examInfo.examTarGrd+'학년'}">1학년</td>
					<th>응시 날짜</th>
					<td th:text="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}">2024-11-08</td>
				</tr>
				<tr>
					<th>시험 유형</th>
					<td th:text="${examInfo.examType}">평가원</td>
					<th>출제기관</th>
					<td th:text="${examInfo.examInst}">한국스마트정보교육원</td>
				</tr>
			</tbody>
		</table>

		<div class="alert-box">
			<span class="alert-icon">🔊</span> &nbsp;주의사항<br />
			<span class="alert-text">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<span>1) 이 모의고사는 무료모의고사 입니다.</span>
				<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>
					2) 모의고사를 응시하면 모의고사 결과와 해설을 모의고사 응시 목록에서
					확인할 수 있습니다.
				</span>
				<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>
					3) 응시할 과목을 선택해 주세요.
				</span>
			</span>
		</div>

		<table class="table">
			<thead>
				<tr>
					<th>분류</th>
					<th>과목</th>
					<th>응시</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>언어 영역</td>
					<td>국어</td>
					<td><input type="checkbox" name="subject1" /></td>
				</tr>
				<tr>
					<td>영어 영역</td>
					<td>영어</td>
					<td><input type="checkbox" name="subject1" /></td>
				</tr>
				<tr>
					<td>수리 영역</td>
					<td>수학</td>
					<td><input type="checkbox" name="subject1" /></td>
				</tr>
				<tr>
					<td>한국사 영역</td>
					<td>한국사</td>
					<td><input type="checkbox" name="subject1" /></td>
				</tr>
				<th:block>
					<tr>
						<td rowspan="1">사회탐구 영역</td>
						<td>경제</td>
						<td><input type="checkbox" name="subject1" /></td>
					</tr>
				</th:block>
				<th:block>
					<tr>
						<td rowspan="1">과학탐구 영역</td>
						<td>화학1</td>
						<td><input type="checkbox" name="subject1" /></td>
					</tr>
				</th:block>
				<th:block>
					<tr>
						<td rowspan="1">직업탐구 영역</td>
						<td>성공적인 직업생활</td>
						<td><input type="checkbox" name="subject1" /></td>
					</tr>
				</th:block>
				<th:block>
					<tr>
						<td rowspan="1">제 2외국어-한문 영역</td>
						<td>일본어</td>
						<td><input type="checkbox" name="subject1" /></td>
					</tr>
				</th:block>
			</tbody>
		</table>

		<div class="button-section">
			<button class="submit-btn">확인</button>
		</div>
	</div>
	<script th:inline="javascript">
		$('.submit-btn').click(function () {
			const width = window.innerWidth * 1.0;
			const height = window.innerHeight * 1.0;
			const examCode = 'doyoung1234';
			window.open(`/exam/${examCode}/examination`, 'popupWindow',
				`width=${width},height=${height},scrollbars=yes`);
		})

		var examQuestionInfo = /*[[${examQuestionInfo}]]*/[];

		const socialList = [];
		const scienceList = [];
		const jobList = [];
		const langList = [];

		examQuestionInfo.forEach((element, idx) => {
			const smjrcc = element['subMjrCatCode'];
			switch (smjrcc) {

				case 'smjrcc5':
					if (!socialList.includes(element['subMirCatNm'])) {
						socialList.push(element['subMirCatNm']);
						$('#social').append($('<span/>').text(element['subMirCatNm'] + ', '));
					}


					break;
				case 'smjrcc6':
					if (!scienceList.includes(element['subMirCatNm'])) {
						scienceList.push(element['subMirCatNm']);
						$('#science').append($('<span/>').text(element['subMirCatNm'] + ', '));
					}

					break;
				case 'smjrcc7':
					if (!jobList.includes(element['subMirCatNm'])) {
						jobList.push(element['subMirCatNm']);
						$('#job').append($('<span/>').text(element['subMirCatNm'] + ', '));
					}
					break;
				case 'smjrcc8':
					if (!langList.includes(element['subMirCatNm'])) {
						langList.push(element['subMirCatNm']);
						$('#language').append($('<span/>').text(element['subMirCatNm'] + ', '));
					}
					break;
			}


		})



		// 과목 나열에서 맨뒤에 , 제거(-2인 이유는 ,뒤에 공백이 먼저 있어서)
		let socialText = $('#social').find('span').last().text();
		let newSocialText = socialText.slice(0, -2);
		$('#social').find('span').last().text(newSocialText);

		let scienceText = $('#science').find('span').last().text();
		let newScienceText = scienceText.slice(0, -2);
		$('#science').find('span').last().text(newScienceText);

		let jobText = $('#job').find('span').last().text();
		let newJobText = jobText.slice(0, -2);
		$('#job').find('span').last().text(newJobText);

		let languageText = $('#language').find('span').last().text();
		let newLanguageText = languageText.slice(0, -2);
		$('#language').find('span').last().text(newLanguageText);
	</script>
</body>

</html>